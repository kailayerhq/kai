import{C as v,z as d,A as c,i as _,D as b,W as g,ag as p,ah as m,x as h}from"./BVvwDgQW.js";import{s as y}from"./CQNZviiM.js";function S(e,r,s){var t=e==null?"":""+e;return r&&(t=t?t+" "+r:r),t===""?null:t}function N(e,r,s,t,u,i){var n=e.__className;if(v||n!==s||n===void 0){var a=S(s,t);(!v||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):e.className=a),e.__className=s}return i}function o(e,r,s=!1){if(e.multiple){if(r==null)return;if(!g(r))return p();for(var t of e.options)t.selected=r.includes(l(t));return}for(t of e.options){var u=l(t);if(m(u,r)){t.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function q(e){var r=new MutationObserver(()=>{o(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),h(()=>{r.disconnect()})}function W(e,r,s=r){var t=new WeakSet,u=!0;d(e,"change",i=>{var n=i?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(n),l);else{var f=e.querySelector(n)??e.querySelector("option:not([disabled])");a=f&&l(f)}s(a),c!==null&&t.add(c)}),_(()=>{var i=r();if(e===document.activeElement){var n=b??c;if(t.has(n))return}if(o(e,i,u),u&&i===void 0){var a=e.querySelector(":checked");a!==null&&(i=l(a),s(i))}e.__value=i,u=!1}),q(e)}function l(e){return"__value"in e?e.__value:e.value}const A=()=>{const e=y;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},x={subscribe(e){return A().page.subscribe(e)}};export{W as b,x as p,N as s};
